<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-imx8mp/yocto" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.2.1">
<title data-rh="true">yocto | Bit-Brick</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://bit-brick.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://bit-brick.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://bit-brick.github.io/docs/imx8mp/yocto"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="yocto | Bit-Brick"><meta data-rh="true" name="description" content="A Yocto Project build requires that some packages be installed for the build that are"><meta data-rh="true" property="og:description" content="A Yocto Project build requires that some packages be installed for the build that are"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://bit-brick.github.io/docs/imx8mp/yocto"><link data-rh="true" rel="alternate" href="https://bit-brick.github.io/docs/imx8mp/yocto" hreflang="en"><link data-rh="true" rel="alternate" href="https://bit-brick.github.io/docs/imx8mp/yocto" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.234bede1.css">
<script src="/assets/js/runtime~main.4b47a9be.js" defer="defer"></script>
<script src="/assets/js/main.8444ac6f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Bit-Brick Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Bit-Brick Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Bit-Brick</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Tutorial</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Tutorial Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/getting-started/configuring">getting-started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/imx8mp/ubuntu">imx8mp</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/imx8mp/ubuntu">ubuntu</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/imx8mp/yocto">yocto</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">imx8mp</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">yocto</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>yocto</h1>
<p>A Yocto Project build requires that some packages be installed for the build that are
documented under the Yocto Project. Go to Yocto Project Quick Start and check for the
packages that must be installed for your build machine.</p>
<p>To get the Yocto Project expected behavior in a Linux Host Machine, the packages and
utilities described below must be installed. An important consideration is the hard disk
space required in the host machine. For example, when building on a machine running
Ubuntu, the minimum hard disk space required is about 50 GB. It is recommended that at
least 120 GB is provided, which is enough to compile all backends together. For building
machine learning components, at least 250 GB is recommended.</p>
<p>The recommended minimum Ubuntu version is 20.04 or later. The latest release supports
Chromium v91, which requires an increase to the ulimit (number of open files) to 4098.
Essential Yocto Project host packages are:</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1installation-required-package">1.Installation required package<a href="#1installation-required-package" class="hash-link" aria-label="Direct link to 1.Installation required package" title="Direct link to 1.Installation required package">​</a></h2>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ sudo apt-get install gawk wget git-core diffstat unzip texinfo gcc-multilib build-essential chrpath socat cpio python python3 python3-pip python3-pexpect </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">xz-utils debianutils iputils-ping python3-git python3-jinja2 libegl1-mesa libsdl1.2-dev </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pylint3 xterm rsync curl zstd pzstd lz4c lz4 libssl-dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ sudo locale-gen en_US.UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2setting-up-the-repo-utility">2.Setting up the Repo utility<a href="#2setting-up-the-repo-utility" class="hash-link" aria-label="Direct link to 2.Setting up the Repo utility" title="Direct link to 2.Setting up the Repo utility">​</a></h2>
<p>Repo is a tool built on top of Git that makes it easier to manage projects that contain
multiple repositories, which do not need to be on the same server. Repo complements
very well the layered nature of the Yocto Project, making it easier for users to add their
own layers to the BSP.
To install the “repo” utility, perform these steps:</p>
<ul>
<li>2.1.  Create a bin folder in the home directory.</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ mkdir ~/bin (this step may not be needed if the bin folder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> already exists)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ curl https://storage.googleapis.com/git-repo-downloads/repo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &gt; ~/bin/repo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ chmod a+x ~/bin/repo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>2.2 Add the following line to the .bashrc file to ensure that the ~/bin folder is in your
PATH variable.</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">export PATH=~/bin:$PATH</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3yocto-project-setup">3.Yocto Project Setup<a href="#3yocto-project-setup" class="hash-link" aria-label="Direct link to 3.Yocto Project Setup" title="Direct link to 3.Yocto Project Setup">​</a></h2>
<p>First, make sure that Git is set up properly with the commands below:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git config --global user.name &quot;Your Name&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git config --global user.email &quot;Your Email&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git config --list</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The i.MX Yocto Project BSP Release directory contains a sources directory, which
contains the recipes used to build one or more build directories, and a set of scripts used
to set up the environment.
The recipes used to build the project come from both the community and i.MX. The Yocto
Project layers are downloaded to the sources directory. This sets up the recipes that are
used to build the project.
The following example shows how to download the i.MX Yocto Project Community BSP
recipe layers. For this example, a directory called imx-yocto-bsp is created for the
project. Any name can be used instead of this.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ mkdir imx-yocto-bsp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ cd imx-yocto-bsp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ repo init -u https://github.com/nxp-imx/imx-manifest -b imx-linux-mickledore -m imx-6.1.22-2.0.0.xml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ repo sync</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4building-the-project">4.Building the Project<a href="#4building-the-project" class="hash-link" aria-label="Direct link to 4.Building the Project" title="Direct link to 4.Building the Project">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="41-change-uboot">4.1 change uboot<a href="#41-change-uboot" class="hash-link" aria-label="Direct link to 4.1 change uboot" title="Direct link to 4.1 change uboot">​</a></h3>
<p>Replace the <code>uboot</code> bb file before starting the build.
<code>[your path]/imx-yocto-bsp/sources/meta-imx/meta-bsp/recipes-bsp/u-boot/u-boot-imx_2022.04.bb</code></p>
<p>before</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># BEGIN: Changes to u-boot-imx-common_${PV}.inc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LIC_FILES_CHKSUM = &quot;file://Licenses/gpl-2.0.txt;md5=b234ee4d69f5fce4486a80fdaf4a4263&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SRC_URI = &quot;${UBOOT_SRC};branch=${SRCBRANCH}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">UBOOT_SRC ?= &quot;git://github.com/nxp-imx/uboot-imx.git;protocol=https&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SRCBRANCH = &quot;lf_v2022.04&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SRCREV = &quot;181859317bfafef1da79c59a4498650168ad9df6&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LOCALVERSION = &quot;-${SRCBRANCH}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEPENDS += &quot;gnutls-native xxd-native&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>after</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># BEGIN: Changes to u-boot-imx-common_${PV}.inc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LIC_FILES_CHKSUM = &quot;file://Licenses/gpl-2.0.txt;md5=b234ee4d69f5fce4486a80fdaf4a4263&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SRC_URI = &quot;${UBOOT_SRC};branch=${SRCBRANCH}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">UBOOT_SRC ?= &quot;git://github.com/bit-brick/uboot-imx.git;protocol=https&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SRCBRANCH = &quot;lf_v2022.04&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SRCREV = &quot;2a29b5972b88343286ceda95b592c2f93a9c8bc4&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LOCALVERSION = &quot;-${SRCBRANCH}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEPENDS += &quot;gnutls-native xxd-native&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="42-change-kernel">4.2 change kernel<a href="#42-change-kernel" class="hash-link" aria-label="Direct link to 4.2 change kernel" title="Direct link to 4.2 change kernel">​</a></h3>
<p>Modify bb files:
<code>[your path]/imx-yocto-bsp/sources/meta-imx/meta-bsp/recipes-kernel/linux/linux-imx_5.15.bb </code><br>
<code>[your path]/imx-yocto-bsp/sources/meta-imx/meta-bsp/recipes-kernel/linux/linux-imx-headers_5.15.bb</code></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SRCBRANCH = &quot;lf-5.15.y&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LOCALVERSION = &quot;-lts-next&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">KERNEL_SRC ?= &quot;git://github.com/bit-brick/linux-imx.git;protocol=https;branch=${SRCBRANCH}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">KBRANCH = &quot;${SRCBRANCH}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SRC_URI = &quot;${KERNEL_SRC}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SRCREV = &quot;50912be386017c8d2ca7f0c9c0a32fa7ac84a283&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>then run code to build image</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ DISTRO=fsl-imx-wayland MACHINE=imx8mp-lpddr4-evk source imx-setup-release.sh -b build-wayland</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ bitbake imx-image-full</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>when it success, you will see the files in the build-wayland/tmp/deploy/images/imx8mp-lpddr4-evk  directory</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="5burn-image-to-device">5.Burn Image to device<a href="#5burn-image-to-device" class="hash-link" aria-label="Direct link to 5.Burn Image to device" title="Direct link to 5.Burn Image to device">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="51-downloading-uuu">5.1 Downloading UUU<a href="#51-downloading-uuu" class="hash-link" aria-label="Direct link to 5.1 Downloading UUU" title="Direct link to 5.1 Downloading UUU">​</a></h3>
<p>Download UUU version 1.4.193 or later from <a href="https://github.com/NXPmicro/mfgtools/releases" target="_blank" rel="noopener noreferrer">https://github.com/NXPmicro/mfgtools/releases</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="52-using-uuu">5.2 Using UUU<a href="#52-using-uuu" class="hash-link" aria-label="Direct link to 5.2 Using UUU" title="Direct link to 5.2 Using UUU">​</a></h3>
<p>To use the UUU for  i.MX 8, follow the instructions below:</p>
<ol>
<li>Connect a USB cable from a computer to the USB OTG/TYPE C port on the board.</li>
<li>Connect a USB cable from the OTG-to-UART port to the computer for console output.</li>
<li>Open a Terminal emulator program. See Section &quot;Basic Terminal Setup&quot; in this document.</li>
<li>Set the boot pin to serial download mode mode. See Section &quot;Serial download mode for the Manufacturing Tool&quot; in this
document.
To use the UUU for i.MX 8ULP EVK, follow the instructions below:
• To burn single-boot image and rootfs to eMMC, run the following command:</li>
</ol>
<p>Switch the board pins to burn mode <code>0 0 0 1</code>.
<img decoding="async" loading="lazy" src="/assets/images/burn_status-fd43869c75d4ae32bec450c2b9a9a43f.jpg" width="1706" height="1279" class="img_ev3q"></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo ~/bin/uuu -b emmc_all imx-boot-imx8mpevk-sd.bin-flash_evk imx-image-full-imx8mp-lpddr4-evk.wic.zst</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>After burning, switch the board pins to system running mode <code>0 0 1 0</code>, then reset and reboot the system.
<img decoding="async" loading="lazy" src="/assets/images/run_status-6cd989890e84ca8df2bdadc5719c9d61.jpg" width="1706" height="1279" class="img_ev3q">
You can also directly download the compiled image from the following link:<br>
<a href="https://drive.google.com/drive/folders/1DeiQxV0aQYxEGHuIq0V043Mfd73IX5uA?usp=drive_link" target="_blank" rel="noopener noreferrer">imx-image-full-imx8mp-lpddr4-evk.wic.zst</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="faq">FAQ<a href="#faq" class="hash-link" aria-label="Direct link to FAQ" title="Direct link to FAQ">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q-how-to-modify-the-number-of-threads">Q: How to modify the number of threads?<a href="#q-how-to-modify-the-number-of-threads" class="hash-link" aria-label="Direct link to Q: How to modify the number of threads?" title="Direct link to Q: How to modify the number of threads?">​</a></h3>
<p>A: Modify the number of threads in the build-dir/conf/local.conf file based on the performance of your computer.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Choose your desired number of build threads</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BB_NUMBER_THREADS ?= &quot;4&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Set the number of concurrent threads for make command</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PARALLEL_MAKE ?= &quot;-j 4&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q-how-to-modify-the-size-of-the-tmp-partition">Q: How to modify the size of the tmp partition?<a href="#q-how-to-modify-the-size-of-the-tmp-partition" class="hash-link" aria-label="Direct link to Q: How to modify the size of the tmp partition?" title="Direct link to Q: How to modify the size of the tmp partition?">​</a></h3>
<p>A: Modify the size of the tmp partition in the build-dir/conf/local.conf file based on your requirements.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q-how-to-compile-the-kernel-separately">Q: How to compile the kernel separately?<a href="#q-how-to-compile-the-kernel-separately" class="hash-link" aria-label="Direct link to Q: How to compile the kernel separately?" title="Direct link to Q: How to compile the kernel separately?">​</a></h3>
<p>A: Run the following commands:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bitbake -c cleanall virtual/kernel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bitbake virtual/kernel</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q-failure-in-installing-package-with-apt">Q: Failure in installing package with apt<a href="#q-failure-in-installing-package-with-apt" class="hash-link" aria-label="Direct link to Q: Failure in installing package with apt" title="Direct link to Q: Failure in installing package with apt">​</a></h3>
<p>A: Add <code>[trusted=yes] </code>in the source list and use date -e to change the system date.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/imx8mp/yocto.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/imx8mp/ubuntu"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">ubuntu</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1installation-required-package" class="table-of-contents__link toc-highlight">1.Installation required package</a></li><li><a href="#2setting-up-the-repo-utility" class="table-of-contents__link toc-highlight">2.Setting up the Repo utility</a></li><li><a href="#3yocto-project-setup" class="table-of-contents__link toc-highlight">3.Yocto Project Setup</a></li><li><a href="#4building-the-project" class="table-of-contents__link toc-highlight">4.Building the Project</a><ul><li><a href="#41-change-uboot" class="table-of-contents__link toc-highlight">4.1 change uboot</a></li><li><a href="#42-change-kernel" class="table-of-contents__link toc-highlight">4.2 change kernel</a></li></ul></li><li><a href="#5burn-image-to-device" class="table-of-contents__link toc-highlight">5.Burn Image to device</a><ul><li><a href="#51-downloading-uuu" class="table-of-contents__link toc-highlight">5.1 Downloading UUU</a></li><li><a href="#52-using-uuu" class="table-of-contents__link toc-highlight">5.2 Using UUU</a></li></ul></li><li><a href="#faq" class="table-of-contents__link toc-highlight">FAQ</a><ul><li><a href="#q-how-to-modify-the-number-of-threads" class="table-of-contents__link toc-highlight">Q: How to modify the number of threads?</a></li><li><a href="#q-how-to-modify-the-size-of-the-tmp-partition" class="table-of-contents__link toc-highlight">Q: How to modify the size of the tmp partition?</a></li><li><a href="#q-how-to-compile-the-kernel-separately" class="table-of-contents__link toc-highlight">Q: How to compile the kernel separately?</a></li><li><a href="#q-failure-in-installing-package-with-apt" class="table-of-contents__link toc-highlight">Q: Failure in installing package with apt</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>